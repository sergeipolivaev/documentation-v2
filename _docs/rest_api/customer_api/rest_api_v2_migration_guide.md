---
title: Руководство по миграции на API облака V2
permalink: rest_api_v2_migration_guide.html
sidebar: evorestguides
product: Customer API
---


## Что нового в API V2

Основными особенностями новой версии API являются:

* Более детальные схемы документов, соответствующие новым версиям ФФД.
* Изменённая и дополненная схема товаров.
* Возможность [создавать модификации товаров](./).
* Возможность [добавлять изображения товаров](./).

## Миграция на новую версию API

Миграция на API V2 не зависит от корректности номенклатуры и происходит в два этапа:

1. Получение актуальной номенклатуры пользователя.
2. Перезапись номенклатуры в Облаке Эвотор.

##

Чтобы получить актуальную номенклатуру пользователя, выполните следующий запрос:

```shell
https://api.evotor.ru/docs/#tag/Tovary-i-dokumenty%2Fpaths%2F~1api.evotor.ru~1api~1v1~1inventories~1stores~1%7BstoreUuid%7D~1products%2Fget
```

Запрос вернёт всю номенклатуру пользователя, актуальную на момент запроса.

## Перезапись номенклатуры

Чтобы перезаписать номенклатуру пользователя, выполните следующий запрос:

```shell
```

Для перехода с версии обмена v1  на версию обмена v2, необходимо запросить номенклатуру запросом:

https://api.evotor.ru/docs/#tag/Tovary-i-dokumenty%2Fpaths%2F~1api.evotor.ru~1api~1v1~1inventories~1stores~1%7BstoreUuid%7D~1products%2Fget

Получив всю номенклатуру клиента, необходимо будет перезаписать её в облаке.

Вы можете произвести данную операцию постепенно по мере необходимости, при работе клиента с товарной позицией (отправляя единичные запросы типа https://developer.evotor.ru/docs/rest_products.html). Здесь необходимо учитывать, что продукты и группы в формате V2 это разные сущности.

Обновление товара по каждому uuid необходимо провести, это поможет исправить созданные товары ранее с неверной схемой.

ЧЕРНОВОЙ ВАРИАНТ.
